<!DOCTYPE html>
<head lang="ja-JP">
    <meta charset="utf-8">
    <title>HTML5 ボイスコントロール テスト</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" type="text/css" />
    <link href="style.css" rel="stylesheet">
</head>
<body>
<h1 class="text-center h3"> Speech Recognition API 6</h1>
     <p  class="text-center">ボイスコントロールテスト</p>
<div id="content">
      <div id="box">
      </div>
</div>
<div class="text-center">
    <button id="startRecBtn" class="btn btn-default">マイク 開始</button>
    <button id="stopRecBtn" class="btn btn-default">マイク 停止</button>
</div>
<div id="text" class="text-center">
    「赤」「青」「黄色」「緑」<br>
    って話しかけてみてね。
</div>      
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
    <script src="main.js"></script>
</body>
</html>
main.js
$(document).ready(function() {
    var rec = new webkitSpeechRecognition();
        rec.continuous = true;
        rec.interimResults = false;
        rec.lang = 'ja-JP';

        var userSaid = function(str, s) {
            return str.indexOf(s) > -1;
        }

        rec.onresult = function(e) {
            for (var i = e.resultIndex; i < e.results.length; ++i) {
                if (e.results[i].isFinal) {
                        var str = e.results[i][0].transcript;
                        console.log('Recognised: ' + str);
                        if (userSaid(str, '赤')) {
                            $('#box').css("background-color","red");
                }
                            else if (userSaid(str, '青')) {
                            $('#box').css("background-color","blue");
                }
                            else if (userSaid(str, '黄色')) {
                                $('#box').css("background-color","yellow");
                            }
                            else if (userSaid(str, '緑')) {
                                $('#box').css("background-color","green");
                                            }

                                        }
                                    }
                            }

    $("#startRecBtn").click(function() {
      rec.start();
    });
    $("#stopRecBtn").click(function() {
      rec.stop();
    });
});
